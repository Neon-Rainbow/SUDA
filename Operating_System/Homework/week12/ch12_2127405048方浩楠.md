# week12

## 1

>    一个磁盘有 8 个盘片，每个盘片有 200 个磁道，每个磁道划分为 128 个扇区。请问：
>
>   1.   这个磁盘的容量多大？
>   2.   如果磁头移动一个磁道距离的时间是 0.02ms，那么这个磁盘的平均寻道时间大约是多少？

1.   

$8 * 200 * 128 * 512 = 104857600\ Byte = 102400\ KB = 100 \ MB$

2.   

$平均寻道时间 = 100 * 0.02 = 2ms$

## 2

>   磁盘访问请求往往不是均衡分布在磁盘各处的。例如，在一个采用索引分配的文件系统中，索引表所在的柱面比仅包含文件内容的柱面的访问频率要高。假设知道 90%的请求都是对一小部分固定数目柱面。那么，请问对这种情况，本章讨论的调度算法中哪种性能较好？为什么？

$SCAN$调度和$C-SCAN$调度更好($LOOK调度,C-LOOK调度$)

这两种算法让磁头沿一个方向移动，直到到达最后一个请求的位置，然后改变方向或跳回起点。在请求集中的情况下，这些算法特别有效，因为它们可以在处理集中区域的请求时减少不必要的磁头移动。

同时,由于磁头主要在磁盘的一部分来回移动,因此SCAN和C-SCAN调度效率更高.实际使用时,可以使磁头移动到最远端的一个请求就返回,而不需要移动到磁盘端点,以此来提高效率($LOOK$调度)

## 3

>   磁盘访问时间有哪几部分组成？每部分时间应如何计算？
>

寻找时间$T_s = m * n + s$ 其中m为与磁盘驱动器有关的常数,约为$0.2ms$

旋转延迟时间$T_r = \frac{1}{2r}$ 

传输时间$T_t = \frac{b}{rN}$  其中$r$为磁盘每秒转数, $N$为一个磁道上的字节数

总存取时间$T_a = T_s + \frac{1}{2r} + \frac{b}{rN}$ 

## 4

>   若磁头的当前位置为 100 磁道 （共 200 磁道） ，磁头正向磁道号增加方向移动。现有一磁盘读写请求队列： 23、 132、 19、 61、 190、 29、 4、 18、 40。若采用先来先服务、最短寻道时间优先和扫描算法，试计算出平均寻道长度各为多少？

### FIFS

$100 \rightarrow 23 \rightarrow 132 \rightarrow 19 \rightarrow 61 \rightarrow 190 \rightarrow 29 \rightarrow 4 \rightarrow 18 \rightarrow 40$

| 当前磁道 | 目标磁道 | 移动距离 |
| -------- | -------- | -------- |
| 100      | 23       | 77       |
| 23 	| 132 |109|
| 132 | 19 |113|
| 19 | 61 |42|
| 61 | 190 |129|
| 190 | 29 |161|
| 29 | 4 |25|
| 4 | 18 |14|
| 18 | 40 |22|
|总移动距离| | 692|
|平均移动距离| |76.89|

### SSTF

| 当前磁道 | 目标磁道 | 移动距离 |
| -------- | -------- | -------- |
| 100      | 132      | 32       |
| 132      | 190      | 58       |
| 190      | 61       | 129      |
| 61       | 40       | 21       |
| 40       | 29       | 11       |
| 29       | 23       | 6        |
| 23       | 19       | 4        |
| 19       | 18       | 1        |
| 18       | 4        | 14       |
| 总计     |          | 276      |
| 平均     |          | 30.67    |

### SCAN

| 00   | 132  | 32    |
| ---- | ---- | ----- |
| 132  | 190  | 58    |
| 190  | 132  | 58    |
| 132  | 61   | 71    |
| 61   | 40   | 21    |
| 40   | 29   | 11    |
| 29   | 23   | 6     |
| 23   | 19   | 4     |
| 19   | 18   | 1     |
| 18   | 4    | 14    |
| 总计 |      | 276   |
| 平均 |      | 30.67 |

## 5

>    请比较 RAID0 和 RAID1 在读写文件方面的性能。

+   **读取性能**：RAID 0 通常提供比 RAID 1 更高的读取性能，尤其是在并行读取数据时。然而，在某些 RAID 1 的配置中，通过从多个镜像中读取数据，也能实现类似的读取速度。
+   **写入性能**：RAID 0 在写入性能上显著优于 RAID 1，因为它允许数据并行写入多个磁盘。