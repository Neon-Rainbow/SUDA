# 习题11

## 1

> 目录文件采用链接式，每个磁盘块存放 10 个下级文件的描述，最多存放 40 个下级文件，若下级文件为目录文件，上级目录指向该目录文件的第一块，否则指向普通文件的文件控制块。普通文件采用二级索引形式，文件控制块中给出 12 个磁盘块地址，前 10个磁盘块地址指出前 10 页的物理地址，第 11 个磁盘块地址指向一级索引表，一级索引表给出 256 个磁盘块地址，即指出该文件第 10 页至第 265 页的地址，第 12 个磁盘块地址指向二级索引表，二级索引表中指出 256 个一级索引表的地址。
> 1.   该文件系统中的普通文件最大可有多少页？
> 2.   若要读文件/A/D/K/Q 中的某一页，最少要启动磁盘几次？最多要启动磁盘几次？（每读一个磁盘块需要启动一次磁盘操作）



## 2

>   一个文件有 20 个磁盘块（块号： 0-19），假设文件控制块在内存（如果文件采用索引分配，索引表不在内存）。在下列情况下，请计算在连续分配，链接分配，单级索引分配三种分配方式下，分别需要多少次磁盘 I/O 操作？（每读入或写出一个磁盘块需要一次磁盘 I/O 操作，另外，假设在连续分配方式下，文件头部无空闲的磁盘块，但文件尾部有空闲的磁盘块。
>   1.   在文件开始处删除一个磁盘块；
>   2.   在文件第 15 块前添加一个磁盘块并写入内容；
>   3.   在文件结尾处删除一个磁盘块；
>   4.   在文件结尾处增加一个磁盘块并写入内容。



## 3

>   设想一个在磁盘上的文件系统的逻辑块和物理块的大小都为 512B。假设每个文件的FCB已经在内存中，对 3 种分配方法（连续分配，显式链接分配和单级索引分配），请问：
>   1.   逻辑地址到物理地址的映射在系统中如何实现？
>   2.   举一个例子说明单级索引分配中，逻辑地址到物理地址的映射过程。



## 4

>    请举一个具体文件系统的例子，来说明文件系统一般由哪些内容组成？