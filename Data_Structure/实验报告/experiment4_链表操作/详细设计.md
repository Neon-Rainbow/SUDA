每一次消费记录用一个struct来表示，struct内的内容为

```C++
struct ShoppingNode
{
    string date; //消费的日期
    string project; //消费的项目
    float money; //消费的金额
    ShoppingNode *next; //记录下一个节点的位置
};
```

自定义链表类中的功能:

```c++
class LinkList
{
public:
    LinkList(); //默认构造函数
    LinkList(vector<ShoppingNode> v); //通过一个ShoppingNode类型的vector来构造
    LinkList(string filename); //通过文件名字来进行构造
    void AddShoppingNode(ShoppingNode* n); //在链表末尾添加一次消费记录
    void CoutMoney(); //输出最大的消费记录，最小的消费记录，以及总消费
    void FindAllShoppingInOneDay(string date); //找出某一天内的所有消费记录
    int SumMoneyOfOneProject(string project); //找出某一个项目的总花费
    void DecrementOutput(); //按照支出项花费递减的顺序输出每一项的对应总花费
    void ReadFile(string filename);  //读取文件
    ShoppingNode *GetFirstNode(){ return this->first; }; //获取链表的头结点
    int GetLength(){ return this->length; }; //获取链表的长度
private:
    ShoppingNode *first; //链表的头结点
    int length; //链表的长度
};
```

按照支出项花费递减的顺序输出每一项的对应总花费的函数:

```C++
bool cmp(pair<string,int> a, pair<string,int> b) //自定义比较方式
{
    return a.second < b.second;
}

void LinkList::DecrementOutput()
{
    map<string, float> project_money; //map中的key为每次消费的项目，value为该项目对应的金额 
    ShoppingNode *p;
    p = first->next;
    while (p != nullptr)
    {
        if (project_money.find(p->project) != project_money.end())
        {
            project_money[p->project] = project_money[p->project] + p->money;
        } 
        else
        {
            project_money[p->project] = p->money;
        }
        p = p->next;
    }
    vector< pair<string,int> > vec(project_money.begin(),project_money.end());
    sort(vec.begin(),vec.end(),cmp);
    for (auto & it : vec)
    {
        cout << it.first << " " << it.second << endl;
    }
}
```

