# 使用 PLY 的词法分析器

本项目使用 Python Lex-Yacc（PLY）库实现了一个简单的词法分析器。该分析器能够从给定的输入字符串或文件中标记化一组预定义的符号。它主要设计用来处理 C++ 语法的基本子集，包括算术运算符、括号、大括号、标识符、数字和字符串。

## 依赖

- Python 3.x
- PLY 库：通过 pip 安装 `pip install ply`。

## 文件

- `lexer.py`：这是包含词法分析器实现的主文件。

## 使用

1. 确保您的机器上安装了 Python 3.x。
2. 使用 pip 安装 PLY 库：`pip install ply`。
3. 将词法分析器代码保存到名为 `lexer.py` 的文件中。
4. 创建一个名为 `prog.txt` 的文件，其中包含您想要分析的代码。
5. 使用命令 `python lexer.py` 运行词法分析器。
6. 词法分析器将从 `prog.txt` 读取输入，标记化它，并将符号打印到控制台。

## 词法符号

词法分析器识别以下符号：

- 关键字：`INT`
- 标识符：`ID`
- 运算符：`EQUALS`, `PLUS`, `MINUS`, `MULTIPLY`, `DIVIDE`, `LSHIFT`
- 分隔符：`LPAREN`, `RPAREN`, `LBRACE`, `RBRACE`, `SEMICOLON`, `COMMA`
- 其他：`NUMBER`, `STRING`, `ENDL`, `LT`

## 符号规则

符号规则是使用正则表达式定义的。以下是一些示例：

- 标识符：`[a-zA-Z_][a-zA-Z_0-9]*`
- 数字：`\d+`
- 字符串：`\".*?\"`
- 左移运算符（`<<`）：`<<`

## 错误处理

词法分析器具有基本的错误处理规则，以跳过任何非法字符并将错误消息打印到控制台。

## 扩展词法分析器

要添加更多符号或修改现有符号规则：

1. 将新的符号名称添加到 `tokens` 元组中。
2. 使用 `t_<TOKEN_NAME>` 语法为新符号定义正则表达式规则。
3. 如果需要，为更复杂的符号规则或操作定义函数。

现在，您的词法分析器已准备好标记化额外的语法元素！

